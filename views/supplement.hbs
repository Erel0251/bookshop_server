<!-- component -->

<div class="col container">

  <div class="d-flex justify-content-between align-items-center  m-4">
    <h2 class="text-left">Supplement</h2>
    <div class="d-flex justify-content-evenly gap-3">
      <div class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#createSupplement">Create</div>
      <div class="btn btn-outline-success">Import</div>
    </div>
  </div>

  <form action="/supplement/filter" method="get" class="card p-4 m-4">
    <div class="row mb-3">
      <div class="col-md-4">
        <label for="date" class="form-label">Date</label>
        <input type="date" class="form-control" id="date" name="date">
      </div>
      <div class="col-md-4">
        <label for="month" class="form-label">Month</label>
        <input type="month" class="form-control" id="month" name="month">
      </div>
      <div class="col-md-4">
        <label for="year" class="form-label">Year</label>
        <input type="number" class="form-control" id="year" name="year" min="1900" max="2100">
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="name" class="form-label">Name</label>
        <input type="text" class="form-control" id="name" name="name">
      </div>
      <div class="col-md-6">
        <label for="supplier" class="form-label">Supplier</label>
        <input type="text" class="form-control" id="supplier" name="supplier">
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Search</button>
  </form>

  <div class="m-4">
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Supplier</th>
          <th>Quantity</th>
          <th>Price</th>
          <th>Date</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <!-- Supplement -->
        <tr data-bs-toggle="collapse" data-bs-target="#details1">
          <td>1</td>
          <td>Đợt tháng 4</td>
          <td>NXB Kim Đồng</td>
          <td>1000</td>
          <td>1000000</td>
          <td>24/04/2024</td>
          <td>
            <div class="btn btn-outline-warning py-0">Edit</div>
            <div class="btn btn-outline-danger py-0">Remove</div>

          </td>
        </tr>

        <!-- Supplement Detail -->
        <tr id="details1" class="collapse">
          <td colspan="7" class="">
            <!-- Nested Table -->
            <table class="table table-striped table-light table-bordered">
              <thead>
                <tr>
                  <td>#</td>
                  <td>Book</td>
                  <td>Quantity</td>
                  <td>Price</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>Phía tây không có gì lạ</td>
                  <td>100</td>
                  <td>100000</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Sousou no Frieren</td>
                  <td>400</td>
                  <td>100000</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>Dungeon Meshi</td>
                  <td>500</td>
                  <td>100000</td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>

        <!-- Supplement -->
        <tr data-bs-toggle="collapse" data-bs-target="#details2">
          <td>2</td>
          <td>Đợt tháng 4</td>
          <td>NXB Trẻ</td>
          <td>1000</td>
          <td>1000000</td>
          <td>24/04/2024</td>
          <td></td>
        </tr>

        <!-- Supplement Detail -->
        <tr id="details2" class="collapse">
          <td colspan="7" class="">
            <!-- Nested Table -->
            <table class="table table-striped table-light table-bordered">
              <thead>
                <tr>
                  <td>#</td>
                  <td>Book</td>
                  <td>Quantity</td>
                  <td>Price</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>Phía tây không có gì lạ</td>
                  <td>100</td>
                  <td>100000</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Sousou no Frieren</td>
                  <td>400</td>
                  <td>100000</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>Dungeon Meshi</td>
                  <td>500</td>
                  <td>100000</td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>

        <!-- Supplement -->
        <tr data-bs-toggle="collapse" data-bs-target="#details3">
          <td>3</td>
          <td>Đợt tháng 4</td>
          <td>NXB Lao Động</td>
          <td>1000</td>
          <td>1000000</td>
          <td>24/04/2024</td>
          <td></td>
        </tr>

        <!-- Supplement Detail -->
        <tr id="details3" class="collapse">
          <td colspan="7" class="">
            <!-- Nested Table -->
            <table class="table table-striped table-light table-bordered">
              <thead>
                <tr>
                  <td>#</td>
                  <td>Book</td>
                  <td>Quantity</td>
                  <td>Price</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>Phía tây không có gì lạ</td>
                  <td>100</td>
                  <td>100000</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Sousou no Frieren</td>
                  <td>400</td>
                  <td>100000</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>Dungeon Meshi</td>
                  <td>500</td>
                  <td>100000</td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>

        {{#each supplements}}
        <!-- Supplement -->
        <tr data-bs-toggle="collapse" data-bs-target="#detail{{@index}}">
          <td>{{inc @index}}</td>
          <td>{{name}}</td>
          <td>{{supplier}}</td>
          <td>{{showNum total_quantity}}</td>
          <td>{{formatPrice total_price}}</td>
          <td>{{formatDate date}}</td>
          <td>
            <a class="btn btn-outline-info py-0" href="/{{id}}">View</a>
            <div class="btn btn-outline-warning py-0">Edit</div>
            <div class="btn btn-outline-danger py-0">Remove</div>
          </td>
        </tr>

        <!-- Supplement Detail -->
        <tr id="detail{{@index}}" class="collapse">
          <td colspan="7" class="">
            <!-- Nested Table -->
            <table class="table table-striped table-light table-bordered">
              <thead>
                <tr>
                  <td>#</td>
                  <td>Book</td>
                  <td>Quantity</td>
                  <td>Price</td>
                </tr>
              </thead>
              <tbody>
                {{#each supplement_details}}
                <tr>
                  <td>{{inc @index}}</td>
                  <td>{{this.books.title}}</td>
                  <td>{{this.quantity}}</td>
                  <td>{{formatPrice this.price this.currency}}</td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>



  {{> createSupplement}}


</div>